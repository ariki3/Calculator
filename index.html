<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kenya PAYE & Net Salary Calculator 2026</title>
  <meta name="description" content="Calculate your Kenya net salary 2026 – PAYE, NSSF, SHIF, Housing Levy, reliefs & deductions">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5/dist/full.min.css" rel="stylesheet" type="text/css" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          colors: {
            'etsy-orange': '#F56400',
            'etsy-dark': '#222222',
            'positive-green': '#34A853',
            'negative-red': '#EA4335',
            'relief-indigo': '#6366F1',
            'deduct-amber': '#F59E0B',
            'light-beige': '#FDFDFD',
            'border-gray': '#E0E0E0',
          }
        },
      },
    }
  </script>

  <style>
    .locked-box {
      background: #000;
      height: 80px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: bold;
      font-size: 1.1rem;
      user-select: none;
    }
  </style>
</head>
<body class="bg-light-beige min-h-screen">

  <header class="bg-etsy-orange text-white py-6 shadow-md">
    <div class="container mx-auto px-4 md:px-6 text-center">
      <h1 class="text-3xl md:text-4xl font-bold">Kenya PAYE & Net Salary Calculator 2026</h1>
      <p class="mt-2 text-orange-100">Estimate your take-home pay — accurate 2026 rules</p>
    </div>
  </header>

  <main class="container mx-auto px-4 md:px-6 py-8 max-w-7xl">
    <!-- About section unchanged -->
    <div class="bg-white rounded-xl shadow-md p-6 mb-8 border border-border-gray">
      <h2 class="text-xl font-semibold text-etsy-dark mb-3">About This Calculator</h2>
      <p class="text-gray-600 mb-4">
        See your estimated net salary after all deductions and reliefs.
      </p>
      <p class="text-sm text-gray-600 mb-2">
        <strong>Free version includes:</strong> Gross, NSSF, SHIF, Housing Levy, PAYE before relief
      </p>
      <p class="text-sm text-gray-600">
        <strong>Unlock full version (KSh 50 one-time):</strong> Exact Net Pay + complete breakdown
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
      <!-- Input side unchanged – keeping Etsy orange/green/red theme -->
      <div class="bg-white rounded-xl shadow-lg border border-border-gray overflow-hidden">
        <div class="bg-orange-50 px-6 py-4 border-b border-orange-100">
          <h2 class="text-lg font-semibold text-etsy-orange">Enter Your Details</h2>
        </div>
        <div class="p-6 space-y-8">
          <!-- Regular Earnings, Irregular, Reliefs, Extra Deductions sections unchanged -->
          <!-- ... (keep as in previous Etsy version) ... -->

          <button onclick="calculate()" class="mt-8 w-full bg-etsy-orange hover:bg-orange-700 text-white font-medium py-3 px-4 rounded-lg shadow transition duration-200">
            Calculate Net Pay
          </button>
        </div>
      </div>

      <!-- Results side -->
      <div class="bg-white rounded-xl shadow-lg border border-border-gray overflow-hidden relative">
        <div class="bg-gray-50 px-6 py-4 border-b border-border-gray">
          <h2 class="text-lg font-semibold text-etsy-dark">Your Results (2026 Rules)</h2>
        </div>
        <div class="p-6 relative">
          <div id="results">
            <div class="text-center py-20 text-gray-500 italic">
              Enter your values and click "Calculate Net Pay"
            </div>
          </div>

          <!-- Paywall Overlay – updated for KSh 50 + phone number only -->
          <div id="paywall" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-2xl p-8 md:p-10 max-w-lg w-11/12 shadow-2xl relative">
              <button onclick="document.getElementById('paywall').classList.add('hidden')" 
                      class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">
                ×
              </button>

              <h3 class="text-2xl md:text-3xl font-bold text-center text-etsy-dark mb-5">
                Unlock Full Results
              </h3>

              <div class="bg-positive-green/10 border border-positive-green/30 rounded-xl p-6 mb-6 text-center">
                <p class="text-4xl font-extrabold text-positive-green">KSh 50</p>
                <p class="text-lg text-positive-green mt-1">One-time payment</p>
              </div>

              <div class="text-gray-700 text-sm md:text-base space-y-6">
                <p class="font-semibold text-center">Pay via M-Pesa to this number:</p>

                <div class="bg-orange-50 p-6 rounded-xl border border-orange-100 text-center">
                  <p class="text-3xl font-bold text-etsy-orange mb-2">+2547XXXXXXXX</p>
                  <p class="text-sm text-gray-600">(WhatsApp-enabled – send KSh 50 here)</p>
                </div>

                <div class="space-y-4">
                  <p class="text-center">After sending payment:</p>
                  <ol class="list-decimal pl-6 space-y-2 text-left mx-auto max-w-md">
                    <li>Send exactly <strong>KSh 50</strong> via M-Pesa to the number above.</li>
                    <li>Reply to me on WhatsApp with your M-Pesa confirmation message (or screenshot).</li>
                    <li>I will send you a unique unlock code instantly.</li>
                    <li>Enter the code below to view full results.</li>
                  </ol>
                </div>

                <!-- Simple code entry (client-side only – replace with real logic if needed) -->
                <div class="mt-6">
                  <input type="text" id="unlockCode" placeholder="Enter unlock code here" class="w-full p-3 border border-gray-300 rounded-lg text-center text-lg" />
                  <button onclick="tryUnlock()" class="mt-4 w-full bg-etsy-orange hover:bg-orange-700 text-white font-semibold py-3 px-6 rounded-xl shadow transition">
                    Unlock Now
                  </button>
                </div>

                <p class="text-center text-xs text-gray-500 mt-4">
                  Code is case-sensitive. Contact me if you don't receive it within minutes.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    let fullResultsHTML = ''; // Will store the full unlocked HTML after calculation

    function calculate() {
      // ... (keep your existing calculation logic exactly the same) ...

      // After all calculations (grossTaxable, nssf, shif, housingLevy, netTaxable, payeGross, netPaye, extraDeds, totalDeds, netPay)

      fullResultsHTML = `
        <div class="mb-8">
          <div class="bg-positive-green/10 border border-positive-green/30 rounded-xl p-6 text-center">
            <p class="text-sm text-positive-green font-medium mb-2">Your Estimated Net Pay</p>
            <p class="text-4xl font-extrabold text-positive-green">KSh ${netPay.toFixed(2)}</p>
          </div>
        </div>

        <div class="bg-white rounded-xl border border-border-gray overflow-hidden shadow-sm">
          <table class="w-full text-sm divide-y divide-border-gray">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-4 text-left font-medium text-gray-700">Description</th>
                <th class="px-6 py-4 text-right font-medium text-gray-700">Amount (KES)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="px-6 py-4">Gross Taxable Earnings</td>
                <td class="px-6 py-4 text-right font-mono">${grossTaxable.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">NSSF (Employee)</td>
                <td class="px-6 py-4 text-right font-mono">${nssf.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">SHIF (2.75%)</td>
                <td class="px-6 py-4 text-right font-mono">${shif.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">Housing Levy (1.5%)</td>
                <td class="px-6 py-4 text-right font-mono">${housingLevy.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4 font-medium">Net Taxable Amount</td>
                <td class="px-6 py-4 text-right font-medium">${netTaxable.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">PAYE before relief</td>
                <td class="px-6 py-4 text-right font-mono">${payeGross.toFixed(2)}</td>
              </tr>
              <tr class="bg-orange-50">
                <td class="px-6 py-4 font-semibold text-etsy-orange">Net PAYE</td>
                <td class="px-6 py-4 text-right font-bold text-etsy-orange">${netPaye.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">Extra Deductions</td>
                <td class="px-6 py-4 text-right font-mono">${extraDeds.toFixed(2)}</td>
              </tr>
              <tr class="bg-gray-50">
                <td class="px-6 py-4 font-semibold">Total Deductions</td>
                <td class="px-6 py-4 text-right font-bold">${totalDeds.toFixed(2)}</td>
              </tr>
              <tr class="bg-positive-green/5">
                <td class="px-6 py-4 font-bold text-positive-green text-lg">NET PAY (Take Home)</td>
                <td class="px-6 py-4 text-right font-bold text-positive-green text-lg">${netPay.toFixed(2)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mt-8 text-center text-xs text-gray-500">
          Estimates only • Based on 2026 rules • NSSF on basic/pensionable pay • SHIF/Housing on gross
        </div>
      `;

      // Show free version (partial) + paywall
      document.getElementById('results').innerHTML = `
        <div class="mb-8">
          <div class="bg-positive-green/10 border border-positive-green/30 rounded-xl p-6 text-center">
            <p class="text-sm text-positive-green font-medium mb-2">Estimated Net Pay</p>
            <div class="locked-box">
              Locked – Unlock for KSh 50
            </div>
          </div>
        </div>

        <div class="bg-white rounded-xl border border-border-gray overflow-hidden shadow-sm">
          <table class="w-full text-sm divide-y divide-border-gray">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-4 text-left font-medium text-gray-700">Description</th>
                <th class="px-6 py-4 text-right font-medium text-gray-700">Amount (KES)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="px-6 py-4">Gross Taxable Earnings</td>
                <td class="px-6 py-4 text-right font-mono">${grossTaxable.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">NSSF (Employee)</td>
                <td class="px-6 py-4 text-right font-mono">${nssf.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">SHIF (2.75%)</td>
                <td class="px-6 py-4 text-right font-mono">${shif.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">Housing Levy (1.5%)</td>
                <td class="px-6 py-4 text-right font-mono">${housingLevy.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4 font-medium">Net Taxable Amount</td>
                <td class="px-6 py-4 text-right font-medium">${netTaxable.toFixed(2)}</td>
              </tr>
              <tr>
                <td class="px-6 py-4">PAYE before relief</td>
                <td class="px-6 py-4 text-right font-mono">${payeGross.toFixed(2)}</td>
              </tr>
              <tr class="bg-orange-50">
                <td class="px-6 py-4 font-semibold text-etsy-orange">Net PAYE</td>
                <td class="px-6 py-4 text-right font-bold locked-box text-sm">Locked</td>
              </tr>
              <tr>
                <td class="px-6 py-4">Extra Deductions</td>
                <td class="px-6 py-4 text-right font-mono locked-box text-sm">Locked</td>
              </tr>
              <tr class="bg-gray-50">
                <td class="px-6 py-4 font-semibold">Total Deductions</td>
                <td class="px-6 py-4 text-right font-bold locked-box text-sm">Locked</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mt-8 text-center">
          <button onclick="document.getElementById('paywall').classList.remove('hidden')"
                  class="bg-etsy-orange hover:bg-orange-700 text-white font-semibold py-4 px-10 rounded-xl shadow-lg transition transform hover:scale-105">
            Unlock Full Results – KSh 50
          </button>
        </div>

        <div class="mt-6 text-xs text-gray-500 text-center">
          NSSF usually based on basic pay • SHIF & Housing Levy on full gross • Estimates only
        </div>
      `;

      // Show paywall
      document.getElementById('paywall').classList.remove('hidden');
    }

    function tryUnlock() {
      const code = document.getElementById('unlockCode').value.trim().toUpperCase();
      if (code === 'UNLOCK50') {  // ← Change this to whatever code you'll send users
        document.getElementById('results').innerHTML = fullResultsHTML;
        document.getElementById('paywall').classList.add('hidden');
        alert('Unlocked! Enjoy the full breakdown.');
      } else {
        alert('Invalid code. Please check and try again (case-sensitive).');
      }
    }
  </script>

</body>
</html>
